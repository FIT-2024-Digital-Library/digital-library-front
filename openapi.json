{"openapi":"3.1.0","info":{"title":"FastAPI","version":"0.1.0"},"paths":{"/books/":{"get":{"tags":["book"],"summary":"Returns books using search parameters (all of them otherwise)","operationId":"get_books_books__get","parameters":[{"name":"title","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by book title","title":"Title"},"description":"Filter by book title"},{"name":"author","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by author","title":"Author"},"description":"Filter by author"},{"name":"genre","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by name","title":"Genre"},"description":"Filter by name"},{"name":"published_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"Filter by publication date","title":"Published Date"},"description":"Filter by publication date"},{"name":"description","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by description keyword","title":"Description"},"description":"Filter by description keyword"},{"name":"image_url","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by image's URL","title":"Image Url"},"description":"Filter by image's URL"},{"name":"pdf_url","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by PDF URL","title":"Pdf Url"},"description":"Filter by PDF URL"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Book"},"title":"Response Get Books Books  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/books/{book_id}":{"get":{"tags":["book"],"summary":"Returns book data","operationId":"get_book_books__book_id__get","parameters":[{"name":"book_id","in":"path","required":true,"schema":{"type":"integer","title":"Book Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Book"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/books/create":{"post":{"tags":["book"],"summary":"Creates new book. Only for authorized user with admin privilege","operationId":"create_book_books_create_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"integer","title":"Response Create Book Books Create Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/books/{book_id}/update":{"put":{"tags":["book"],"summary":"Updates book data. Only for authorized user with admin privilege","operationId":"update_book_books__book_id__update_put","parameters":[{"name":"book_id","in":"path","required":true,"schema":{"type":"integer","title":"Book Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Book"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/books/{book_id}/delete":{"delete":{"tags":["book"],"summary":"Deletes book. Only for authorized user with admin privilege","operationId":"delete_book_books__book_id__delete_delete","parameters":[{"name":"book_id","in":"path","required":true,"schema":{"type":"integer","title":"Book Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Book"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/profile":{"get":{"tags":["user"],"summary":"Returns authorized user","operationId":"get_profile_users_profile_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLogined"}}}}}}},"/users/login":{"post":{"tags":["user"],"summary":"Logs user in","operationId":"login_users_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLogin"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLogined"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/register":{"post":{"tags":["user"],"summary":"Creates new user","operationId":"register_users_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRegister"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLogined"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/logout":{"post":{"tags":["user"],"summary":"Log out of system","operationId":"logout_user_users_logout_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/users/{user_id}/get_admin_role":{"post":{"tags":["user"],"summary":"Logs user in","operationId":"get_admin_role_users__user_id__get_admin_role_post","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLogined"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/{user_id}/update":{"put":{"tags":["user"],"summary":"Updates user by id","operationId":"update_user_by_id_users__user_id__update_put","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRegister"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLogined"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/{user_id}":{"get":{"tags":["user"],"summary":"Returns user by id","operationId":"get_user_by_id_users__user_id__get","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLogined"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/":{"get":{"tags":["user"],"summary":"Returns all users","operationId":"get_users_users__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/UserLogined"},"type":"array","title":"Response Get Users Users  Get"}}}}}}},"/authors/":{"get":{"tags":["authors"],"summary":"Returns authors","operationId":"get_authors_authors__get","parameters":[{"name":"name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Find by author name","title":"Name"},"description":"Find by author name"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Author"},"title":"Response Get Authors Authors  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/authors/{author_id}":{"get":{"tags":["authors"],"summary":"Returns author","operationId":"get_author_authors__author_id__get","parameters":[{"name":"author_id","in":"path","required":true,"schema":{"type":"integer","title":"Author Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Author"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/authors/create":{"post":{"tags":["authors"],"summary":"Creates authors","operationId":"create_author_authors_create_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthorCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"integer","title":"Response Create Author Authors Create Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/authors/{author_id}/delete":{"delete":{"tags":["authors"],"summary":"Deletes authors","operationId":"delete_author_authors__author_id__delete_delete","parameters":[{"name":"author_id","in":"path","required":true,"schema":{"type":"integer","title":"Author Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Author"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/authors/{author_id}/update":{"put":{"tags":["authors"],"summary":"Updates authors","operationId":"update_author_authors__author_id__update_put","parameters":[{"name":"author_id","in":"path","required":true,"schema":{"type":"integer","title":"Author Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthorCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Author"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/genres/":{"get":{"tags":["genres"],"summary":"Returns genres","operationId":"get_genres_genres__get","parameters":[{"name":"name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Find by genre name","title":"Name"},"description":"Find by genre name"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Genre"},"title":"Response Get Genres Genres  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/genres/{genre_id}":{"get":{"tags":["genres"],"summary":"Returns genre","operationId":"get_genre_genres__genre_id__get","parameters":[{"name":"genre_id","in":"path","required":true,"schema":{"type":"integer","title":"Genre Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Genre"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/genres/create":{"post":{"tags":["genres"],"summary":"Creates genres","operationId":"create_genre_genres_create_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenreCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"integer","title":"Response Create Genre Genres Create Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/genres/{genre_id}/delete":{"delete":{"tags":["genres"],"summary":"Deletes genres","operationId":"delete_genre_genres__genre_id__delete_delete","parameters":[{"name":"genre_id","in":"path","required":true,"schema":{"type":"integer","title":"Genre Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Genre"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/genres/{genre_id}/update":{"put":{"tags":["genres"],"summary":"Updates genres","operationId":"update_genre_genres__genre_id__update_put","parameters":[{"name":"genre_id","in":"path","required":true,"schema":{"type":"integer","title":"Genre Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenreCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Genre"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/storage/":{"post":{"tags":["storage"],"summary":"Uploads new file. Privileged users only.","operationId":"upload_file_storage__post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_file_storage__post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileUploadedScheme"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/storage/download/{filename}":{"get":{"tags":["storage"],"summary":"Download File","operationId":"download_file_storage_download__filename__get","parameters":[{"name":"filename","in":"path","required":true,"schema":{"type":"string","title":"Filename"}}],"responses":{"200":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/storage/list":{"get":{"tags":["storage"],"summary":"List Files","operationId":"list_files_storage_list_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/FileUploadedScheme"},"type":"array","title":"Response List Files Storage List Get"}}}}}}},"/storage{filename}":{"delete":{"tags":["storage"],"summary":"Deletes file. Privileged users only.","operationId":"delete_file_storage_filename__delete","parameters":[{"name":"filename","in":"path","required":true,"schema":{"type":"string","title":"Filename"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"Author":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"}},"type":"object","required":["id","name"],"title":"Author"},"AuthorCreate":{"properties":{"name":{"type":"string","title":"Name"}},"type":"object","required":["name"],"title":"AuthorCreate"},"Body_upload_file_storage__post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_upload_file_storage__post"},"Book":{"properties":{"id":{"type":"integer","title":"Id"},"title":{"type":"string","title":"Title"},"author":{"type":"integer","title":"Author"},"genre":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Genre"},"publishedDate":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Publisheddate"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"imageUrl":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Imageurl"},"pdfUrl":{"type":"string","title":"Pdfurl"}},"type":"object","required":["id","title","author","pdfUrl"],"title":"Book"},"BookCreate":{"properties":{"title":{"type":"string","title":"Title"},"author":{"type":"string","title":"Author"},"genre":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Genre"},"publishedDate":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Publisheddate"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"imageUrl":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Imageurl"},"pdfUrl":{"type":"string","title":"Pdfurl"}},"type":"object","required":["title","author","pdfUrl"],"title":"BookCreate"},"FileUploadedScheme":{"properties":{"url":{"type":"string","title":"Url"}},"type":"object","required":["url"],"title":"FileUploadedScheme"},"Genre":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"}},"type":"object","required":["id","name"],"title":"Genre"},"GenreCreate":{"properties":{"name":{"type":"string","title":"Name"}},"type":"object","required":["name"],"title":"GenreCreate"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"UserLogin":{"properties":{"email":{"type":"string","format":"email","title":"Email","description":"Электронная почта"},"password":{"type":"string","maxLength":50,"minLength":5,"title":"Password","description":"Пароль, от 5 до 50 знаков"}},"type":"object","required":["email","password"],"title":"UserLogin"},"UserLogined":{"properties":{"email":{"type":"string","format":"email","title":"Email","description":"Электронная почта"},"name":{"type":"string","maxLength":50,"minLength":3,"title":"Name","description":"Имя, от 3 до 50 символов"},"privileges":{"type":"string","title":"Privileges"}},"type":"object","required":["email","name","privileges"],"title":"UserLogined"},"UserRegister":{"properties":{"email":{"type":"string","format":"email","title":"Email","description":"Электронная почта"},"password":{"type":"string","maxLength":50,"minLength":5,"title":"Password","description":"Пароль, от 5 до 50 знаков"},"name":{"type":"string","maxLength":50,"minLength":3,"title":"Name","description":"Имя, от 3 до 50 символов"}},"type":"object","required":["email","password","name"],"title":"UserRegister"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}